<section class="add-note-card">
  <h3>Dodaj nową notatkę</h3>

  <form (ngSubmit)="addNote()" class="note-form">
    <div class="form-group">
      <label for="title">Tytuł:</label>
      <input
        id="title"
        type="text"
        [(ngModel)]="note.title"
        name="title"
        required
      />
    </div>

    <div class="form-group" *ngIf="!showNewCategoryField">
      <label for="category">Kategoria:</label>
      <select
        id="category"
        [(ngModel)]="note.category"
        name="category"
        (change)="onCategoryChange()"
        required
      >
        <option *ngFor="let cat of categories" [ngValue]="cat">
          {{ cat }}
        </option>
      </select>
    </div>

    <div *ngIf="showNewCategoryField" class="form-group">
      <label for="new-category">Nowa kategoria:</label>
      <input
        id="new-category"
        type="text"
        [(ngModel)]="note.category"
        name="newCategory"
        required
      />
    </div>

    <div class="form-group">
      <label for="content">Treść notatki:</label>
      <textarea
        id="content"
        [(ngModel)]="note.content"
        name="content"
        rows="6"
        required
      ></textarea>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-primary">Zapisz notatkę</button>
      <button type="button" class="btn-secondary" (click)="cancel()">
        Anuluj
      </button>
    </div>
  </form>
</section>
